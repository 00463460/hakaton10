---
id: 001
title: Physical AI Textbook Constitution v1.0.0
stage: constitution
date: 2025-12-12
surface: agent
model: claude-sonnet-4-5
feature: none
branch: master
user: Cravix
command: /sp.constitution
labels: ["constitution", "initial-setup", "physical-ai", "hackathon"]
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
  - .specify/memory/constitution.md
tests:
  - Validated dependent templates (plan-template.md, spec-template.md, tasks-template.md)
---

## Prompt

/sp.constitution

Project Name: Physical AI & Humanoid Robotics Textbook (AI-Native)
Purpose: To create a professional, high-quality, and modern AI-Native textbook for a university-level course on Physical AI and Humanoid Robotics, based on the provided course module details. The project must be built to win a hackathon by meeting all base requirements.

Core Principles:
1.  **Specification Primacy:** All code and content must strictly follow the specifications and plan generated by Spec-Kit Plus.
2.  **High-Performance UX:** The Docusaurus site must be fast, responsive, and deploy seamlessly to GitHub Pages.
3.  **Accuracy & Clarity:** Textbook content must be technically precise (using LaTeX for equations) and highly scannable (using Markdown/MDX).
4.  **Free-Tier Architecture:** The RAG Chatbot architecture must rely exclusively on **Qdrant Cloud Free Tier** and **Neon Serverless Postgres Free Tier** for scalability and cost-efficiency.
5.  **Secure RAG:** The RAG Chatbot must *only* answer questions based on the vectorized book content. It must support RAG from user-selected text on the page.

Technology Stack Decisions:
* **Book Frontend:** Docusaurus (v3) using React/MDX.
* **Deployment:** GitHub Pages.
* **RAG Backend:** Python FastAPI (REST API).
* **Vector Database:** Qdrant Cloud Free Tier.
* **Relational Database:** Neon Serverless Postgres (for user sessions, metadata, etc.).
* **LLM/Embeddings:** OpenAI Embeddings and ChatKit SDKs (or equivalent free-tier models if OpenAI is cost-prohibitive for the RAG loop).
* **Textbook Content:** Markdown/MDX, following the 4-module structure.

## Response snapshot

Created comprehensive constitution v1.0.0 for Physical AI & Humanoid Robotics Textbook project with 8 core principles:

**Core Principles Established:**
1. **Specification Primacy** - All work follows Spec-Kit Plus workflow (spec.md â†’ plan.md â†’ tasks.md)
2. **Free-Tier Architecture** - Zero-cost stack (Qdrant Cloud, Neon Postgres, GitHub Pages)
3. **RAG Security and Accuracy** - Chatbot answers only from vectorized textbook content with citations
4. **High-Performance UX** - Lighthouse â‰¥90, sub-2s load times, automated CI/CD
5. **Technical Precision** - LaTeX equations, executable code examples, MDX format
6. **Test-First for Code** - TDD mandatory for backend (80% coverage), no untested code in main
7. **Modular Content Architecture** - 4-module structure with independent learning paths
8. **Reusable Intelligence** - Three subagent types (Code/Content/Utility) for hackathon bonus points

**Technology Stack Codified:**
- Frontend: Docusaurus v3 + React 18 + MDX 2
- Backend: FastAPI (Python 3.11+) + LangChain + OpenAI Embeddings
- Data: Qdrant Cloud (vectors) + Neon Postgres (sessions/metadata)
- Auth: Better-Auth with email/password
- Tools: pnpm, Poetry, pytest, Vitest, ESLint, TypeScript strict

**Quality Standards:**
- Performance: FCP <1.5s, TTI <2.5s, bundle <200KB gzipped
- Security: Bcrypt (costâ‰¥12), HTTP-only cookies, CORS, rate limiting
- Accessibility: WCAG 2.1 AA compliance
- Code: PEP 8, type hints, 80% test coverage

**Workflow Defined:**
- Feature cycle: Specify â†’ Plan â†’ Tasks â†’ Implement (TDD) â†’ Review â†’ Deploy
- ADR suggestion for significant architectural decisions (3-part test)
- Mandatory PHR creation after all user interactions
- Conventional Commits, semantic versioning, protected main branch

**Templates Validated:**
- plan-template.md: Constitution Check section aligns with new principles
- spec-template.md: User story prioritization matches modular architecture
- tasks-template.md: TDD workflow and independent story testing matches Test-First principle

## Outcome

- âœ… Impact: Established foundational governance for entire project; all future features must comply
- ðŸ§ª Tests: Validated template alignment with constitutional principles
- ðŸ“ Files: Created .specify/memory/constitution.md (v1.0.0 with sync impact report)
- ðŸ” Next prompts: Ready for feature specification with /sp.specify (e.g., "Setup Docusaurus site" or "RAG Chatbot MVP")
- ðŸ§  Reflection: Constitution balances hackathon constraints (free-tier, performance) with production quality (TDD, security, accessibility). Reusable subagents principle directly supports bonus point criteria.

## Evaluation notes (flywheel)

- Failure modes observed: None (initial constitution creation)
- Graders run and results (PASS/FAIL): Template validation PASS (all dependent templates align with principles)
- Prompt variant (if applicable): N/A (initial version)
- Next experiment (smallest change to try): Validate constitution compliance during first feature spec (/sp.specify for Docusaurus setup)
